# ğŸŸ äºŒæ‰‹äº¤æ˜“å¹³å°ï¼ˆä»¿â€œå’¸é±¼â€ï¼‰

---

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®ä¸ºä¸€æ¬¾ä»¿â€œå’¸é±¼â€é£æ ¼çš„äºŒæ‰‹ç‰©å“äº¤æ˜“å¹³å°ï¼ŒåŸºäºå‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œç”¨æˆ·å¯å‘å¸ƒå•†å“ã€æµè§ˆå•†å“ã€ç•™è¨€äº¤æµã€æ”¶è—æ„Ÿå…´è¶£å•†å“ï¼Œå¹¶æ”¯æŒåŸºç¡€äº¤æ˜“åŠŸèƒ½ï¼Œå«åå°ç®¡ç†æ¨¡å—ï¼ˆå¯é€‰ï¼‰ã€‚æ–°å¢AIæ™ºèƒ½æœåŠ¡æ¨¡å—ï¼Œç”¨æˆ·å¯é€šè¿‡æ™ºèƒ½å¯¹è¯è·å–ä¸ªæ€§åŒ–å•†å“æ¨èã€‚ç³»ç»Ÿè®¾è®¡ç®€æ´ã€åŠŸèƒ½å®Œæ•´ï¼Œé€‚åˆä½œä¸ºé«˜æ ¡æ¯•è®¾ã€è¯¾ç¨‹è®¾è®¡ã€ä¸ªäººå®æˆ˜é¡¹ç›®åŠä¸­å°å‹å•†ä¸šåŸå‹å¼€å‘ã€‚

---

## äºŒã€æ ¸å¿ƒæŠ€æœ¯æ ˆ

| å±‚æ¬¡ | æŠ€æœ¯é€‰å‹                                                                                                             |
|----|------------------------------------------------------------------------------------------------------------------|
| åç«¯ | Spring Boot 3.4.6ã€MyBatis-Plusã€MySQL 8.xã€Redisã€Spring Security + JWTã€Lombokã€Swagger 3ã€MinIOï¼ˆOSSï¼‰ã€OpenAI GPT æ¨¡æ‹Ÿæ¥å£ |
| å‰ç«¯ | Vue 3ã€TypeScriptã€Viteã€Piniaã€Vue Routerã€Axiosã€Element Plus                                                        |
| å…¶ä»– | Mavenã€Nginxã€Postmanã€Dockerï¼ˆé€‰ç”¨ï¼‰                                                                                   |

---

## ä¸‰ã€ä¸»è¦åŠŸèƒ½æ¨¡å—

### 1. ç”¨æˆ·æ¨¡å—

- ç”¨æˆ·æ³¨å†Œã€ç™»å½•ï¼ˆJWTè®¤è¯ï¼Œæ”¯æŒä»¤ç‰Œåˆ·æ–°æœºåˆ¶ï¼Œå¢å¼ºä»¤ç‰ŒéªŒè¯å®‰å…¨æ€§ï¼‰

- ä¸ªäººèµ„æ–™ç®¡ç†ï¼ˆæ˜µç§°ã€å¤´åƒã€æ‰‹æœºå·ç­‰ï¼Œå«æ‰‹æœºå·æ ¼å¼éªŒè¯ï¼‰

- æˆ‘çš„å‘å¸ƒã€æ”¶è—ã€äº¤æ˜“è®°å½•

- å¤´åƒä¸Šä¼ ï¼ˆOSSï¼‰

- å®‰å…¨ç™»å‡ºåŠŸèƒ½ï¼ˆæ”¯æŒä»¤ç‰Œé»‘åå•ç®¡ç†ï¼Œç¡®ä¿é€€å‡ºåä»¤ç‰Œç«‹å³å¤±æ•ˆï¼‰

- å¯†ç å®‰å…¨ç­–ç•¥ï¼ˆè‡³å°‘8ä½ï¼ŒåŒ…å«å­—æ¯å’Œæ•°å­—ï¼Œå¢å¼ºå¯†ç åŠ å¯†å­˜å‚¨ï¼‰

- ç”¨æˆ·ä¿¡æ¯ç¼“å­˜ä¼˜åŒ–ï¼ˆRedisç¼“å­˜å‡è½»æ•°æ®åº“å‹åŠ›ï¼Œæå‡ç³»ç»Ÿå“åº”é€Ÿåº¦ï¼‰

### 2. å•†å“æ¨¡å—

- å‘å¸ƒäºŒæ‰‹å•†å“ï¼ˆå¤šå›¾ä¸Šä¼ ï¼‰

- å•†å“æµè§ˆã€åˆ†ç±»ç­›é€‰ã€æ¨¡ç³Šæœç´¢

- å•†å“è¯¦æƒ…æŸ¥çœ‹

- æ”¶è—/å–æ¶ˆæ”¶è—å•†å“

### 3. äº¤æ˜“æ¨¡å—

- ä¹°å®¶ç•™è¨€ / å–å®¶å›å¤

- æ¨¡æ‹Ÿè®¢å•ä¸‹å•ã€äº¤æ˜“ç®¡ç†ï¼ˆæœªæ¥å…¥çœŸå®æ”¯ä»˜ï¼‰

### 4. AIæ™ºèƒ½æœåŠ¡æ¨¡å—

- ç”¨æˆ·åœ¨é¦–é¡µæ‰“å¼€èŠå¤©çª—å£ï¼Œä¸AIæ™ºèƒ½åŠ©æ‰‹å¯¹è¯

- AIæ ¹æ®ç”¨æˆ·æè¿°éœ€æ±‚ï¼Œæ™ºèƒ½æ¨èåŒ¹é…å•†å“

- AIå¯¹è¯æ¥å£æ”¯æŒå¤šè½®å¯¹è¯ï¼Œæå‡äº¤äº’ä½“éªŒ

### 5. åå°ç®¡ç†æ¨¡å—

- ç”¨æˆ·ç®¡ç†

- å•†å“ç®¡ç†ï¼ˆè¿è§„å•†å“ä¸‹æ¶ï¼‰

- ä¸¾æŠ¥å¤„ç†

---

## å››ã€é¡¹ç›®ç›®å½•ç»“æ„ï¼ˆæ¨¡æ¿ï¼‰

### åç«¯ï¼ˆ`Secondhand_System`ï¼‰

```
secondhand_system
â”‚  pom.xml
â””â”€â”€â”€src/main
    â”œâ”€â”€ java/com/seateam/secondhand_system/
    |   |â€”â€” common  # å…¬å…±ç±»
    |   |   â””â”€â”€â”€â”€ config  # # å®‰å…¨é…ç½®ï¼ˆJWT/Security/CORSï¼‰ã€Swaggeré…ç½®
    |   |   â””â”€â”€â”€â”€ exception  # å¼‚å¸¸ç±»
    |   |   â””â”€â”€â”€â”€ utils  # å·¥å…·ç±»ï¼ˆJWTå·¥å…·ã€OSSå·¥å…·ç±»ï¼‰
    |   |   â””â”€â”€â”€â”€ sql    # sqlè„šæœ¬   
    â”‚   â”œâ”€â”€ ai/                 # AIæ™ºèƒ½æœåŠ¡æ¨¡å—ï¼ˆæ¨¡æ‹ŸDeepSeekï¼‰
    â”‚   â”œâ”€â”€ controller/         # REST API æ§åˆ¶å™¨ï¼ˆå«AIå¯¹è¯æ¥å£ï¼‰
    â”‚   â”œâ”€â”€ entity/             # å®ä½“ç±»ï¼ˆä¸æ•°æ®åº“è¡¨æ˜ å°„ï¼‰
    â”‚   â”œâ”€â”€ mapper/             # MyBatis-Plus æ˜ å°„æ¥å£
    â”‚   â”œâ”€â”€ service/            # ä¸šåŠ¡é€»è¾‘æ¥å£
    â”‚   â”œâ”€â”€ service/impl/       # ä¸šåŠ¡é€»è¾‘å®ç°ï¼ˆå«AIæ¨èå®ç°ï¼‰
    â”‚   â””â”€â”€ SecondhandSystemApplication.java # å¯åŠ¨ç±»
    â””â”€â”€â”€resources/
        â”œâ”€â”€ application.yml     # é…ç½®æ–‡ä»¶
        â”œâ”€â”€ mapper/*.xml        # MyBatis XMLæ–‡ä»¶
        â””â”€â”€ static/             # é™æ€èµ„æº
```

### å‰ç«¯ï¼ˆ`Secondhand_Frontend`ï¼‰

```
Secondhand_Frontend
â”‚  package.json
â””â”€â”€â”€src
    â”œâ”€â”€ api/                  # Axioså°è£…ä¸æ¥å£è¯·æ±‚ï¼ˆå«AIå¯¹è¯APIï¼‰
    â”œâ”€â”€ assets/               # é™æ€èµ„æºï¼ˆå›¾ç‰‡ã€æ ·å¼ç­‰ï¼‰
    â”œâ”€â”€ components/           # å…¬å…±ç»„ä»¶ï¼ˆå«AIèŠå¤©çª—å£ç»„ä»¶ï¼‰
    â”œâ”€â”€ pages/                # è·¯ç”±é¡µé¢ç»„ä»¶
    â”‚   â”œâ”€â”€ Home.vue          # é¦–é¡µï¼ˆå«AIèŠå¤©å…¥å£ï¼‰
    â”‚   â”œâ”€â”€ GoodsDetail.vue   # å•†å“è¯¦æƒ…
    â”‚   â”œâ”€â”€ Publish.vue       # å‘å¸ƒå•†å“
    â”‚   â”œâ”€â”€ Login.vue         # ç™»å½•æ³¨å†Œ
    â”‚   â””â”€â”€ UserCenter.vue    # ç”¨æˆ·ä¸­å¿ƒ
    â”œâ”€â”€ router/               # Vue Router è·¯ç”±é…ç½®
    â”œâ”€â”€ store/                # Pinia çŠ¶æ€ç®¡ç†ï¼ˆå«AIèŠå¤©çŠ¶æ€ï¼‰
    â””â”€â”€ App.vue
```

---

## äº”ã€æ•°æ®åº“è®¾è®¡

### 1. ç”¨æˆ·è¡¨ï¼ˆ`user`ï¼‰

| å­—æ®µå         | ç±»å‹                                 | å…è®¸ä¸ºç©º | é»˜è®¤å€¼               | è¯´æ˜                                     |
|-------------|------------------------------------|------|-------------------|----------------------------------------|
| id          | BIGINT AUTO_INCREMENT              | å¦    | â€”                 | ä¸»é”®ï¼Œè‡ªå¢                                  |
| username    | VARCHAR(50)                        | å¦    | â€”                 | ç”¨æˆ·åï¼Œå”¯ä¸€çº¦æŸ                               |
| password    | VARCHAR(255)                       | å¦    | â€”                 | å¯†ç ï¼ˆåŠ å¯†å­˜å‚¨ï¼‰                               |
| avatar      | VARCHAR(255)                       | æ˜¯    | NULL              | å¤´åƒURLåœ°å€                                |
| phone       | VARCHAR(20)                        | æ˜¯    | NULL              | æ‰‹æœºå·                                    |
| role        | ENUM('user', 'admin', 'merchants') | å¦    | 'user'            | ç”¨æˆ·è§’è‰²ï¼ˆuser-æ™®é€šç”¨æˆ·ï¼Œadmin-ç®¡ç†å‘˜ï¼Œmerchants-å•†å®¶ï¼‰ |
| create_time | DATETIME                           | å¦    | CURRENT_TIMESTAMP | æ³¨å†Œæ—¶é—´                                   |

---

### 2. å•†å“è¡¨ï¼ˆ`goods`ï¼‰

| å­—æ®µå         | ç±»å‹                    | å…è®¸ä¸ºç©º | é»˜è®¤å€¼               | è¯´æ˜             |
|-------------|-----------------------|------|-------------------|----------------|
| id          | BIGINT AUTO_INCREMENT | å¦    | â€”                 | ä¸»é”®ï¼Œè‡ªå¢          |
| user_id     | BIGINT                | å¦    | â€”                 | å‘å¸ƒç”¨æˆ·ID         |
| title       | VARCHAR(100)          | å¦    | â€”                 | å•†å“æ ‡é¢˜           |
| description | TEXT                  | æ˜¯    | NULL              | å•†å“æè¿°           |
| price       | DECIMAL(10,2)         | å¦    | â€”                 | å•†å“ä»·æ ¼           |
| category    | VARCHAR(50)           | æ˜¯    | NULL              | å•†å“åˆ†ç±»           |
| status      | TINYINT               | å¦    | 0                 | å•†å“çŠ¶æ€ï¼š0-åœ¨å”®ï¼Œ1-å·²å”® |
| create_time | DATETIME              | å¦    | CURRENT_TIMESTAMP | å‘å¸ƒæ—¶é—´           |

---

### 3. æ”¶è—è¡¨ï¼ˆ`favorite`ï¼‰

| å­—æ®µå      | ç±»å‹                    | å…è®¸ä¸ºç©º | é»˜è®¤å€¼ | è¯´æ˜     |
|----------|-----------------------|------|-----|--------|
| id       | BIGINT AUTO_INCREMENT | å¦    | â€”   | ä¸»é”®ï¼Œè‡ªå¢  |
| user_id  | BIGINT                | å¦    | â€”   | æ”¶è—ç”¨æˆ·ID |
| goods_id | BIGINT                | å¦    | â€”   | å•†å“ID   |

---

### 4. ç•™è¨€è¡¨ï¼ˆ`message`ï¼‰

| å­—æ®µå           | ç±»å‹                    | å…è®¸ä¸ºç©º | é»˜è®¤å€¼               | è¯´æ˜         |
|---------------|-----------------------|------|-------------------|------------|
| id            | BIGINT AUTO_INCREMENT | å¦    | â€”                 | ä¸»é”®ï¼Œè‡ªå¢      |
| goods_id      | BIGINT                | å¦    | â€”                 | å…³è”å•†å“ID     |
| user_id       | BIGINT                | å¦    | â€”                 | ç•™è¨€ç”¨æˆ·ID     |
| content       | TEXT                  | å¦    | â€”                 | ç•™è¨€å†…å®¹       |
| reply_content | TEXT                  | æ˜¯    | NULL              | å–å®¶å›å¤å†…å®¹ï¼ˆå¯ç©ºï¼‰ |
| reply_time    | DATETIME              | æ˜¯    | NULL              | å–å®¶å›å¤æ—¶é—´ï¼ˆå¯ç©ºï¼‰ |
| create_time   | DATETIME              | å¦    | CURRENT_TIMESTAMP | ç•™è¨€æ—¶é—´       |

---

### 5. è®¢å•è¡¨ï¼ˆ`order`ï¼‰

| å­—æ®µå         | ç±»å‹                    | å…è®¸ä¸ºç©º | é»˜è®¤å€¼               | è¯´æ˜               |
|-------------|-----------------------|------|-------------------|------------------|
| id          | BIGINT AUTO_INCREMENT | å¦    | â€”                 | ä¸»é”®ï¼Œè‡ªå¢            |
| buyer_id    | BIGINT                | å¦    | â€”                 | ä¹°å®¶ID             |
| seller_id   | BIGINT                | å¦    | â€”                 | å–å®¶ID             |
| goods_id    | BIGINT                | å¦    | â€”                 | å•†å“ID             |
| price       | DECIMAL(10,2)         | å¦    | â€”                 | æˆäº¤ä»·æ ¼             |
| status      | TINYINT               | å¦    | 0                 | è®¢å•çŠ¶æ€ï¼š0-æœªä»˜æ¬¾ï¼Œ1-å·²å®Œæˆ |
| create_time | DATETIME              | å¦    | CURRENT_TIMESTAMP | ä¸‹å•æ—¶é—´             |

---

### 6. AIå¯¹è¯è¡¨ï¼ˆ`ai_chat`ï¼‰

| å­—æ®µå         | ç±»å‹                    | å…è®¸ä¸ºç©º | é»˜è®¤å€¼               | è¯´æ˜                     |
|-------------|-----------------------|------|-------------------|------------------------|
| id          | BIGINT AUTO_INCREMENT | å¦    | â€”                 | ä¸»é”®ï¼Œè‡ªå¢                  |
| user_id     | BIGINT                | å¦    | â€”                 | ç”¨æˆ·ID                   |
| session_id  | VARCHAR(100)          | å¦    | â€”                 | å¯¹è¯ä¼šè¯IDï¼ˆå¤šè½®å¯¹è¯æ ‡è¯†ï¼‰         |
| message     | TEXT                  | å¦    | â€”                 | ç”¨æˆ·è¾“å…¥å†…å®¹                 |
| response    | TEXT                  | æ˜¯    | NULL              | AIå›å¤å†…å®¹ï¼ˆSQLæœªæŒ‡å®šNOT NULLï¼‰ |
| create_time | DATETIME              | å¦    | CURRENT_TIMESTAMP | è®°å½•æ—¶é—´                   |

---

## å…­ã€åç«¯æ ¸å¿ƒæ¥å£è®¾è®¡ï¼ˆRESTfulè§„èŒƒï¼‰

### 1. ç”¨æˆ·æ¨¡å—

| æ–¹æ³•   | è·¯å¾„                        | æè¿°             |
|------|---------------------------|----------------|
| POST | `/api/user/register`      | ç”¨æˆ·æ³¨å†Œ           |
| POST | `/api/user/login`         | ç”¨æˆ·ç™»å½•ï¼Œè¿”å›JWT     |
| GET  | `/api/user/info`          | è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ï¼ˆéœ€JWTï¼‰ |
| POST | `/api/user/update`        | æ›´æ–°ç”¨æˆ·ä¿¡æ¯ï¼ˆæ˜µç§°ã€å¤´åƒç­‰ï¼‰ |
| POST | `/api/user/refresh-token` | åˆ·æ–°è®¿é—®ä»¤ç‰Œ         |
| POST | `/api/logout`             | ç”¨æˆ·ç™»å‡º           |

### 2. å•†å“æ¨¡å—

| æ–¹æ³•   | è·¯å¾„                       | æè¿°      |
|------|--------------------------|---------|
| POST | `/api/goods/publish`     | å‘å¸ƒæ–°å•†å“   |
| GET  | `/api/goods/list`        | å•†å“åˆ†é¡µåˆ—è¡¨  |
| GET  | `/api/goods/detail/{id}` | è·å–å•†å“è¯¦æƒ…  |
| GET  | `/api/goods/search`      | å…³é”®è¯æœç´¢å•†å“ |

### 3. æ”¶è—æ¨¡å—

| æ–¹æ³•     | è·¯å¾„                     | æè¿°       |
|--------|------------------------|----------|
| POST   | `/api/favorite/add`    | æ·»åŠ æ”¶è—     |
| DELETE | `/api/favorite/remove` | å–æ¶ˆæ”¶è—     |
| GET    | `/api/favorite/list`   | è·å–æˆ‘çš„æ”¶è—åˆ—è¡¨ |

### 4. ç•™è¨€æ¨¡å—

| æ–¹æ³•   | è·¯å¾„                            | æè¿°        |
|------|-------------------------------|-----------|
| POST | `/api/message/leave`          | å‘è¡¨ç•™è¨€      |
| GET  | `/api/message/list/{goodsId}` | è·å–æŸå•†å“ç•™è¨€åˆ—è¡¨ |

### 5. è®¢å•æ¨¡å—

| æ–¹æ³•   | è·¯å¾„                  | æè¿°     |
|------|---------------------|--------|
| POST | `/api/order/create` | ç”Ÿæˆè®¢å•   |
| GET  | `/api/order/my`     | æˆ‘çš„è®¢å•åˆ—è¡¨ |

### 6. AIæ™ºèƒ½æœåŠ¡æ¨¡å—

| æ–¹æ³•   | è·¯å¾„             | æè¿°                 |
|------|----------------|--------------------|
| POST | `/api/ai/chat` | å‘é€ç”¨æˆ·å¯¹è¯ï¼Œè·å–AIå›å¤åŠæ¨èå•†å“ |

è¯·æ±‚ç¤ºä¾‹ï¼š

```json
{
  "userId": 123,
  "sessionId": "uuid-xxxx-xxxx",
  "message": "æˆ‘æƒ³ä¹°ä¸€å°ä»·æ ¼åœ¨1000å…ƒå·¦å³çš„äºŒæ‰‹æ‰‹æœº"
}
```

å“åº”ç¤ºä¾‹ï¼š

```json
{
  "code": 200,
  "message": "æˆåŠŸ",
  "data": {
    "reply": "æ ¹æ®æ‚¨çš„éœ€æ±‚ï¼Œæˆ‘æ¨èä»¥ä¸‹å‡ æ¬¾æ‰‹æœº...",
    "recommendedGoods": [
      {
        "id": 12,
        "title": "äºŒæ‰‹iPhone 11",
        "price": 980.00,
        "cover_img": "/images/iphone11.jpg"
      },
      {
        "id": 18,
        "title": "äºŒæ‰‹å°ç±³10",
        "price": 1050.00,
        "cover_img": "/images/xiaomi10.jpg"
      }
    ]
  }
}
```

---

## ä¸ƒã€è¿è¡Œä¸å¼€å‘è¯´æ˜

### åç«¯å¯åŠ¨

1. é…ç½® `application.yml`ï¼ˆæ•°æ®åº“ã€Redisã€OSSã€AIæœåŠ¡æ¨¡æ‹Ÿå‚æ•°ï¼‰

2. å¯¼å…¥ `common/sql/init.sql` åˆå§‹åŒ–æ•°æ®åº“

3. å¯åŠ¨ Spring Boot é¡¹ç›®ï¼š

```bash
cd secondhand_backend
mvn clean package
java -jar target/second-hand-market-1.0.jar
```

### å‰ç«¯å¯åŠ¨

1. é…ç½® `src/api/request.ts` æŒ‡å®šåç«¯APIåŸºç¡€åœ°å€

2. å¯åŠ¨å‰ç«¯é¡¹ç›®ï¼š

```bash
cd second-hand-frontend
npm install
npm run dev
```

---

## å…«ã€APIæ–‡æ¡£ï¼ˆOpenapiï¼‰

> è®¿é—®åœ°å€ï¼š

```
http://localhost:7272/doc.html
```

---

## ä½œè€…ä¿¡æ¯

- Author: [River Xue]

- GitHub: [RiverXue Â· GitHub](https://github.com/RiverXue)

---
